# Endpoints

### 1. **/** (**GET**)

**Ничего дельного не делает.**

Принимает:

> * Ничего

Возвращает:

> {   "message": "Иди нахуй" }

### 2. **/setup_debug_data** (**GET**)

**Заполняет базу данных данными, предназначенными для отладки проекта.**

Принимает:

> * Ничего

Возвращает:

> {
>
> "*имя таблицы*" : [*Добавленные объекты*],
>
> **...**
>
> "*имя таблицы*" : [*Добавленные объекты*]
>
> }

### 3. **/get_user_JWT_token_get** (**GET**)

**В случае успешной аунтефикации пользователя возвращает JWT токен.**

Принимает:

> * user_id : число - *номер записи пользователя*
> * password : строка - *пароль*

Возвращает:

* Корректный ответ:

> { "token": "*токен*" }

* Ошибка в воде user_id:

> {   "error": "User not found" }

* Ошибка аунтефикации:

> {   "error": "Authentication failed" }

### 4. **/get_table_data** (**GET**)

**Возвращает записи в конкретной таблице.**

Принимает:

> * table : строка - *имя таблицы*

Возвращает:

* Корректный ответ:

> [
>
> {*Запись в таблице в виде словаря*},
>
> ...
>
> {*Запись в таблице в виде словаря*}
>
> ]

* Ошибка указания таблицы:

> {   "message": "Table not found" }

### 5. **/get_table_row_data** (**GET**)

**Возвращает конкретную запись в конкретной таблице.**

Принимает:

> * table : строка - *имя таблицы*
> * rowId : число - *номер записи*

Возвращает:

* Корректный ответ:

> {*Запись в таблице в виде словаря*}

* Ошибка указания таблицы:

> {   "message": "Table not found" }

* Ошибка указания номера записи:

> {   "message": "Row not found" }

### 6. **/drop_table** (**GET**)

**Удаляет записи в конкретной таблице.**

Принимает:

> * table : строка - *имя таблицы

Возвращает:

* Корректный ответ:

> {   "message": "*Имя удалённой таблицы*" }

* Ошибка указания таблицы:

> {   "message": "Table not found" }

### 7. **/drop_all_tables_data** (**GET**)

**Удаляет все записи из всех таблиц.**

Принимает:

> * Ничего

Возвращает:

* Корректный ответ:

> {"message":"All tables data dropped"}

### 8. /upload_file/ (**POST**)

Загружает файл.

Принимает:

> * file : строка байтов - содержимое файла

Возвращает:

* Корректный ответ:

> {
>
> "filename":*имя файла*,
>
> "path":*путь до загруженного файла*
>
> }

### 9. **/get_product_card** (**GET**)

**Получает информацию о карточке товара.**

Принимает:

> * product\_id : число - номер записи карточки товара

Возвращает:

* Корректный ответ:

> {*Запись в таблице в виде словаря*}

* Ошибка указания номера записи:

> {"message":"Product  card not found"}

### 10. **/get_product_cards** (**GET**)

**Получает информацию о всех карточках товаров в формате DTO из productCard_DTO.**

Принимает:

> * Ничего

Возвращает:

* Корректный ответ:

> [
>
> {*Запись в таблице в виде словаря в формате DTO*},
>
> ...
>
> {*Запись в таблице в виде словаря в формате DTO*}
>
> ]

### 11. /create_user (**GET**)

**Если все входные параметры уникальны, то создаёт новую учётную запись пользоватея  и новую карзину для него.**

Принимает:

> * login : строка - уникальный логин пользователя
> * password : строка - пароль
> * email : строка - уникальная почта пользователя
> * phone : строка - уникальный телефонпользователя

Возвращает:

* Корректный ответ:

> {
>
> "user\_id": *номер созданного пользователя*,
>
> "order\_id": *номер созданной карзины пользователя*
>
> }

* Ошибка ввода данных:

> null

### 12. **/is_user_exist** (**GET**)

**Возвращает результат проверки существует ли пользовател с указанными данными.**

Принимает:

> * login : строка - уникальный логин пользователя
> * email : строка - уникальная почта пользователя
> * phone : строка - уникальный телефон пользователя

Возвращает:

* Корректный ответ если существует:

> {"message":true}

* Корректный ответ если не существует:

> {"message":false}

### 13. **/get_user** (**GET**)

**Возвращает пользователя по номеру строки.**

Принимает:

> * user_id : число - *номер записи пользователя*

Возвращает:

* Корректный ответ:

> {*Запись в таблице в виде словаря*}

* Корректный ответ при условии, что такого пользователя нет:

> {"message":"User not found"}

### 14. **/login_user** (**GET**)

**Если пользователь существует и пароль верен, то возвращает JWT токен.**

Принимает:

> * login : строка - уникальный логин пользователя
> * password : строка - пароль
> * email : строка - уникальная почта пользователя
> * phone : строка - уникальный телефон пользователя

Возвращает:

* Корректный ответ:

> { "token": "*токен*" }

* Ошибка ввода данных:

> null

### 15. /add_to_order (**GET**)

**Добавляет конкретный предмет с конкретной карточки в карзину конкретного пользователя.**

Принимает:

> * user\_id : число - *номер записи пользователя*
> * productCard\_id : число - *номер записи карточки товара*
> * count : число - *количество добавляемого товара*

Возвращает:

* Корректный ответ:

> {
>
> "message": "Transaction created successfully",
>
> "transaction\_id": *номер созданной транзакции*
>
> }

* Ошибка ввода данных о пользователе:

> {   "message": "User not found" }

* Ошибка ввода данных о карточке товара:

> {   "message": "Product card not found"}

* Ошибка ввода данных о количестве добавляемых товаров:

> {   "message": "Limit exceeded" }

### 16. get_order_for_user_with_status (**GET**)

**Получает карзины конкретного пользователя с конкретным тэгом**
